# 일반적인 프로그래밍 원칙 

---
### 아이템57 지역변수의 범위를  최소화 하라 
1. 지역변수의 범위를 줄이는 가장 강력한 기법은, '가장 처음에 쓰일때 선언하기'이다.
2. 거의 모든 지역변수는 선언과 동시에 초기화해야 한다. 
3. 메서드를 작게 유지하고, 한 가지 기능에 집중하자 

### 아이템58 전통적인 for보다는 for-each를 사용하라 
- 기존 반복자보다 for-each가 깔끔하다.
  - 반복자도 없고, 직관적이라 에러를 파악하기 편해진다. 
- 하지만 for-each문을 사용할 수 없는 상황이 존재한다. 
  1. 파괴적인 필터링 : 컬렉션을 순회하면서 선택된 원소를 제거해야 한다면, 반복자의 remove메서드를 호출해야 한다. 
     - for-each대신 stream의 removeif를 사용하자 
  2. 변형 : 리스트나 배열을 순회하면서 그 원소의 값 일부 혹은 전체를 교체해야 한다면, 반복자의 인덱스를 사용해야 한다. 
  3. 병렬반복 : 여러 컬렉션을 병렬로 순회해야 한다면, 각각의 반복자/인덱스 변수를 사용해 엄격하고 명시적으로 제어해야 한다. 

### 아이템59 라이브러리를 익히고 사용하라
- 특히 Random에 대한 것이 있는데, ThreadLocalRandom과 SplittableRandom을 사용하는 것이 더 효율적이다. 

### 아이템60 정확한 답이 필요하다면, float & double은 피하라 
- float과 double은 근사치로 계산하도록 설정이 되어 있어, 정확한 계산과는 맞지 않는다. 
  - [잘못된_double_계산_예시](https://github.com/jhsong2580/Reading/blob/master/effectivejava/src/test/java/ch09/Example.java)


### 아이템 61 박싱된 기본 타입보다는 기본 타입을 사용하라 
- 박싱 타입은 "식별자"을 갖는다. 같은 값이라도 다르게 판단될수 있다.
  - 만약 박싱타입에 대해 비교가 필요하다면 Comparator.naturalOrder()를 사용하자 
- null인 박싱타입을 언박싱을 했을때 NPE가 발생한다. 
  - 
  ```
  Integer i = null;
  if(i == 42) // <-- NPE 발생. i를 int인 42와 비교를 하려하면 i에 대해 unboxing이 일어난다. 
    //do something
  ```
  

### 아이템 62 다른 타입이 적절하다면 문자열 사용을 피하라
1. 문자열은 다른 값 타입을 대신하기에 적합하지 않다 .
   - 예/아니오 는 열거형, 수치형이라면 int,float 등으로 변환하자 
2. 문자열은 열거 타입을 대신하기에 적합하지 않다. 
   - Enum이 진짜 좋다 ㄷ ㄷ 
3. 문자열은 혼합타입을 대신하기에 적합하지 않다. 
4. 문자열은 권한을 표현하기에 적합하지 않다. 

### 아이템63 문자열 연결은 느리니 주의하라 

### 아이템64 객체는 인터페이스를 사용해 참조하라 
- 적합한 인터페이스만 있다면 매개변수 뿐 아니라 반환값, 변수, 필드 를 전부 인터페이스 타입으로 선언하라 
```
// 좋은 예
Set<Son> sonSet = new LinkedHashSet<>();

//좋지 않은 예
LinkedHashSet<Son> sonSet = new LinkedHashSet<>();
```
- 적합한 인터페이스가 없다면, 당연히 클래스로 참조해야 한다. 
  - InputStream, OutputStream 등.
  - PriorityQueue클래스는 Queue인터페이스에는 없는 comparator 메서드를 제공한다. 
    - 이러한 경우 PriorityQueue라는 구현체를 직접사용해야 하는 이유가 있으니, Queue라는 인터페이스는 사용하지 않는것이 더 좋다. 

### 아이템 65 리플렉션 보다는 인터페이스를 사용하라
- 리플랙션은 강력한 기능이지만 단점도 많다.
  - 컴파일 타임에는 알수 없는 클래스를 사용한다면, 런타임에서 에러가 발생한다. 
  - 되도록 객체 생성에만 사용하고, 생성한 객체를 이용할때는 적절한 인터페이스를 사용하여, 컴파일 시점에서 에러를 잡자!

### 아이템66 네이티브 메서드는 신중히 사용하라 
- 자바 네이티브 인터페이스 : 자바 프로그램이 네이티브 메서드를 호출하는 기술 
  - 네이티브 메서드 : C, C++같은 네이티브 프로그래밍 언어로 작성한 메서드
- 네이티브 메서드 쓰임 방법
  1. 레지스트리 같은 플랫폼 특화 기능 제공 
  2. 네이티브 코드로 작성된 기존 라이브러리를 사용
  3. 레거시 데이터를 사용하는 레거시 라이브러리 
- 네이티브 메서드를 사용하려거든, 한번 더 생각하라
- 만약 사용을 해야 한다면, 최소한만 사용하고 철저히 테스트하라

### 아이템67 최적화는 신중히 하라 
- 효율성이라는 이름 아래 섣부른 최적화는 하지 말자. 
- 성능 때문에 견고한 구조를 희생하지 말자. 빠른 프로그램보다는 좋은 프로그램을 작성하라.
- 성능을 제한하는 설계를 피하라 
  - 시스템 경계에서 이루어 지는 것들은 완성 후에는 변경하기 어려울수 있다. 이 경계에서 시스템 성능 제한하는 설계를 피해라 
- API를 설계할 때 성능에 주는 영향을 고려하라 
  - public 타입을 가변으로 만들면, 불필요한 방어적 복사를 수없이 유발할 수 있다.


### 아이템68 일반적으로 통용되는 명명규칙을 사용하라. 
- 패키지와 모듈 이름은 각 요소를 .으로 구분하여 계층적으로 짓는다. 
  - 조직 외부에서 사용될 패키지라면 조직의 인터넷 도메인 이름을 역순으로 사용해보자 
    - edu.cmu, com.google ...
- 클래스와 인터페이스 이름은 하나 이상의 단어로 이루어 지며, 각 단어는 "대문자"로 시작한다. 
- 메서드는 클래스/인터페이스 명명법칙에서 첫번째 단어를 소문자로만 변경하면 된다. 
- static final field는 모두 대문자로 쓰며, 단어 사이는 밑줄로 구분한다.
- 타입 매개변수는 한문자로 만든다. (T, D, S)
  - E : Element
  - T : Type 
  - K : key
  - V : value 
  - X : Exception 
  - R : ReturnValue
- 어떤 동작을 수행하는 메서드의 이름은 "동사"와 "목적어를 포함한 동사구"로 짓는다. 
  - boolean을 반환하는 메서드라면 is나 has로 시작하고 명사구/형용사로 기능하는 아무 단어나 구로 끝나도록 짓는다. 
    - isDigit, isEnabled
  - boolean을 반환하지 않거나 해당 인스턴스의 속성을 반환하는 메서드는 "명사, 명사구, get으로 시작하는 동사구"로 짓는다. 
- 객체의 타입을 바꿔서 다른 타입의 또다른 객체를 반환하는 인스턴스 메서드의 이름은 보통 toType형태로 짓는다.(toString, toArray)
- 객체의 내용을 다른 뷰로 보여주는 메서드는 asType형태로 짓는다. (asString, asList)
- 객체의 값을 기본 타입으로 반환하는 메서드는 typeValue형태로 짓는다 (intValue)
- 
